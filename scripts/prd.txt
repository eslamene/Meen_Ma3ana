# Meen-Ma3ana Charity Case Management Platform - Product Requirements Document

## Project Overview
Meen-Ma3ana is a comprehensive charity platform designed to help people in need through community-driven financial support. The application serves as a centralized platform where administrators create charity cases (one-time or recurring) and recurring projects for individuals or families requiring assistance. Donors contribute through financial shares to help reach case goals, with support for ongoing monthly assistance and cyclic project-based fundraising.

## Technology Stack
- Frontend: Next.js with TypeScript, App Router, SSR/SSG
- Backend: Supabase (Auth, Storage, Realtime, Edge Functions)
- Database: PostgreSQL with Drizzle ORM for type-safe operations
- Internationalization: Next.js i18n with English and Arabic support
- UI/UX: Modern component library with RTL support

## Core Features

### 1. User Management System
- User authentication with Supabase Auth
- Role-based access control (Donor, Sponsor, Admin)
- User profile management with contribution history
- Sponsor verification process
- Multi-language user interface (English/Arabic)

### 2. Case Management System
- One-time charity cases with automatic closure
- Recurring cases for ongoing support (medical, rent, etc.)
- Case lifecycle management (Active, Closed, Under Review)
- Case browsing and filtering
- Case updates and progress tracking
- Sponsorship system for direct case support

### 3. Recurring Project Management
- Cyclic project-based fundraising
- Multiple funding cycles with defined periods
- Cycle management and progression
- Project lifecycle control
- Cycle-based contribution tracking

### 4. Sponsorship Management
- Sponsorship request system
- Admin approval workflow
- Sponsor-beneficiary communication platform
- Sponsorship monitoring and lifecycle management
- Multi-case sponsorship support

### 5. Contribution Management
- Proof-based donation system
- Admin moderation workflow
- Offline payment recording
- Contribution tracking and reporting
- Recurring contribution support

### 6. Reporting and Analytics
- Admin dashboard with real-time analytics
- Case reports and project reports
- Sponsorship analytics
- Financial reporting and export capabilities

### 7. Localization and Internationalization
- Complete English and Arabic interface
- RTL layout support for Arabic
- Localized formatting (dates, numbers, currency)
- Content localization for cases and projects
- Language management system

## Technical Requirements

### Database Schema
- Users table with roles and preferences
- Cases table (one-time and recurring)
- Projects table with cycles
- Contributions table with proof attachments
- Sponsorships table with relationships
- Communications table for sponsor-beneficiary messages
- Localization table for translations

### API Endpoints
- User authentication and management
- Case CRUD operations
- Project and cycle management
- Contribution submission and moderation
- Sponsorship request and approval
- Reporting and analytics
- Localization content management

### Real-time Features
- Live case progress updates
- Real-time contribution tracking
- Instant notification system
- Live sponsorship status updates

### Security and Performance
- Row Level Security (RLS) implementation
- Type-safe database operations with Drizzle ORM
- Optimized queries and caching
- File upload security and validation
- Privacy protection for sensitive data

## Development Phases

### Phase 1: Foundation Setup
- Project initialization with Next.js and TypeScript
- Supabase project setup and configuration
- Drizzle ORM setup and initial schema
- Basic authentication system
- Internationalization setup

### Phase 2: Core User Management
- User registration and login
- Role-based access control
- User profile management
- Multi-language interface implementation

### Phase 3: Case Management
- Case creation and management system
- One-time and recurring case types
- Case browsing and filtering
- Basic contribution system

### Phase 4: Advanced Features
- Sponsorship system implementation
- Recurring project management
- Advanced reporting and analytics
- Real-time features integration

### Phase 5: Polish and Optimization
- Performance optimization
- Security hardening
- Testing and bug fixes
- Documentation and deployment

## Success Criteria
- Fully functional charity case management platform
- Complete English and Arabic language support
- Real-time updates and notifications
- Robust security and data protection
- Scalable architecture for future growth
- Intuitive user experience for all user types 